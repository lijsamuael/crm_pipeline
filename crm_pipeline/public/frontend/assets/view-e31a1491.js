import{_ as Q,f as t,c as d,d as r,l as N,a as ue,G as Z,e as O,L as q,M as H,t as V,b as c,a1 as L,aM as de,u as i,aN as fe,g as u,B as x,w as g,F as j,r as X,b5 as he,y as Y,X as pe,z as me,n as ge,b7 as be,N as ee,O as ke,aY as xe,aX as Ce,W as we,aQ as $e,aT as Se,aS as te,A as ae,K as le,Y as J,aZ as Le,b8 as Ve,U as R}from"./index-c721fff4.js";import{u as Be,f as E,g as Fe,b as De}from"./modals-be96e924.js";import{E as T,a as Ie,_ as Me}from"./EditIcon-1aa84c18.js";import{_ as Ne,L as Oe,G as Pe,K as Ue}from"./FadedScrollableDiv-c912e49a.js";import{A as je}from"./ArrowUpRightIcon-3e302d9f.js";import{_ as Ee,L as oe}from"./Link-65fe6c07.js";import{g as ne,b as Te,u as ze,x as se,_ as re,y as K,z as G}from"./index-d994a7bf.js";import{D as ie,b as Ae,i as Je,_ as Re}from"./DragVerticalIcon-79b45f6b.js";const Ke={},Ge={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ze(n,b){return t(),d("svg",Ge,[...b[0]||(b[0]=[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM11.2909 5.98482C11.4666 5.77175 11.4363 5.45663 11.2232 5.28096C11.0101 5.1053 10.695 5.13561 10.5193 5.34868L7.07001 9.53239L5.72845 7.79857C5.55946 7.58018 5.24543 7.54012 5.02703 7.70911C4.80863 7.8781 4.76858 8.19214 4.93756 8.41053L6.66217 10.6394C6.7552 10.7596 6.89788 10.831 7.04988 10.8334C7.20188 10.8357 7.3467 10.7688 7.4434 10.6515L11.2909 5.98482Z",fill:"currentColor"},null,-1)])])}const qe=Q(Ke,[["render",Ze]]),He={class:"group flex w-full items-center justify-between rounded bg-transparent p-1 pl-2 text-base text-ink-gray-8 transition-colors hover:bg-surface-gray-3 active:bg-surface-gray-4"},Xe={class:"flex flex-1 items-center justify-between gap-7"},Ye={class:"actions flex items-center justify-center"},Qe={key:0},We={__name:"PrimaryDropdownItem",props:{option:{type:Object,default:()=>{}}},setup(n){const b=n,p=N(!1),k=N(!1),h=N(null);ue(()=>{var y;(y=b.option)!=null&&y.value||(p.value=!0,k.value=!0,Z(()=>h.value.el.focus()))});const C=()=>{p.value=!p.value,p.value&&Z(()=>h.value.el.focus())},m=y=>{y.target.value&&(C(),b.option.onSave(b.option,k.value),k.value=!1)};return(y,S)=>{const w=O("Button"),l=O("FeatherIcon");return t(),d("div",He,[r("div",Xe,[q(r("div",null,V(n.option.value),513),[[H,!p.value]]),q(c(i(fe),{ref_key:"inputRef",ref:h,modelValue:n.option.value,"onUpdate:modelValue":S[0]||(S[0]=B=>n.option.value=B),class:"w-full",placeholder:n.option.placeholder,onBlur:L(m,["stop"]),onKeydown:S[1]||(S[1]=de(L(B=>B.target.blur(),["stop"]),["enter"]))},null,8,["modelValue","placeholder"]),[[H,p.value]]),r("div",Ye,[p.value?(t(),u(w,{key:0,variant:"ghost",label:y.__("Save"),class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:m},null,8,["label"])):x("",!0),!k.value&&!n.option.selected?(t(),u(w,{key:1,tooltip:y.__("Set As Primary"),variant:"ghost",icon:qe,class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:n.option.onClick},null,8,["tooltip","onClick"])):x("",!0),p.value?x("",!0):(t(),u(w,{key:2,tooltip:y.__("Edit"),variant:"ghost",icon:T,class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:C},null,8,["tooltip"])),c(w,{tooltip:y.__("Delete"),variant:"ghost",icon:"x",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:S[2]||(S[2]=()=>n.option.onDelete(n.option,k.value))},null,8,["tooltip"])])]),n.option.selected?(t(),d("div",Qe,[c(l,{name:"check",class:"text-ink-gray-5 h-4 w-6"})])):x("",!0)])}}};const et={key:0,class:"truncate"},tt={key:1,class:"text-base leading-5 text-ink-gray-4 truncate"},at={class:"my-2 p-1.5 min-w-40 space-y-1.5 divide-y divide-outline-gray-1 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none"},lt={key:0},ot={class:"p-1.5 pl-3 pr-4 text-base text-ink-gray-4"},nt={class:"pt-1.5"},st={__name:"PrimaryDropdown",props:{value:{type:[String,Number],default:""},placeholder:{type:String,default:""},options:{type:Array,default:[]},create:{type:Function},label:{type:String,default:""}},setup(n){return(b,p)=>{const k=O("FeatherIcon"),h=O("Button");return t(),u(i(he),null,{target:g(({isOpen:C,togglePopover:m})=>[c(h,{label:n.value,class:"dropdown-button flex items-center justify-between bg-surface-white !px-2.5 py-1.5 text-base text-ink-gray-8 placeholder-ink-gray-4 transition-colors hover:bg-surface-white focus:bg-surface-white focus:shadow-sm focus:outline-none focus:ring-0",onClick:m},{suffix:g(()=>[c(k,{name:C?"chevron-up":"chevron-down",class:"h-4 text-ink-gray-5"},null,8,["name"])]),default:g(()=>[n.value?(t(),d("div",et,V(n.value),1)):(t(),d("div",tt,V(n.placeholder),1))]),_:2},1032,["label","onClick"])]),body:g(()=>{var C;return[r("div",at,[r("div",null,[(t(!0),d(j,null,X(n.options,m=>(t(),u(We,{key:m.name||m.value,option:m},null,8,["option"]))),128)),(C=n.options)!=null&&C.length?x("",!0):(t(),d("div",lt,[r("div",ot,V(b.__("No {0} Available",[n.label])),1)]))]),r("div",nt,[c(h,{variant:"ghost",class:"w-full !justify-start",label:b.__("Create New"),iconLeft:"plus",onClick:p[0]||(p[0]=m=>n.create&&n.create())},null,8,["label"])])])]}),_:1})}}},rt=Q(st,[["__scopeId","data-v-0e4ceb1e"]]),it={class:"flex flex-col gap-3"},ct={class:"flex items-center justify-between rounded px-2.5 py-2 bg-surface-gray-2"},ut=["onClick"],dt={key:0},pt={key:1,class:"flex gap-2 items-center"},mt={class:"flex gap-1 items-center"},vt={class:"px-2.5 py-2 border border-outline-gray-modals rounded text-base leading-4 text-ink-gray-8 flex items-center justify-between gap-2"},yt={class:"flex items-center gap-2"},_t={class:"flex flex-col gap-1 text-ink-gray-9"},ft={class:"text-ink-gray-4 text-sm"},ht={key:1,class:"flex justify-center items-center border rounded border-dashed border-outline-gray-modals p-3"},gt={class:"text-sm text-ink-gray-4"},bt={class:"mt-5.5"},kt={__name:"SidePanelLayoutEditor",props:{sections:Object,doctype:String},setup(n){const b=n,p=["Table","Table MultiSelect","Geolocation","Attach","Attach Image","HTML","Signature"],k=Y(()=>({doctype:b.doctype,restricted_fieldtypes:p,as_array:!0})),h=pe({url:"crm.api.doc.get_fields_meta",params:k.value,cache:["fieldsMeta",b.doctype],auto:!0});function C(m,y){y&&m.columns[0].fields.push(y)}return me(()=>b.doctype,()=>h.fetch(k.value),{immediate:!0}),(m,y)=>{const S=O("FeatherIcon"),w=O("Button");return t(),d("div",null,[c(i(ie),{list:n.sections,"item-key":"name",class:"flex flex-col gap-5.5"},{item:g(({element:l})=>{var B;return[r("div",it,[r("div",ct,[r("div",{class:"flex max-w-fit cursor-pointer items-center gap-2 text-base leading-4 text-ink-gray-9",onClick:v=>l.opened=!l.opened},[c(S,{name:"chevron-right",class:ge(["h-4 transition-all duration-300 ease-in-out",{"rotate-90":l.opened}])},null,8,["class"]),l.editingLabel?(t(),d("div",pt,[c(i(be),{modelValue:l.label,"onUpdate:modelValue":v=>l.label=v,onKeydown:de(v=>l.editingLabel=!1,["enter"]),onBlur:v=>l.editingLabel=!1,onClick:y[0]||(y[0]=L(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","onKeydown","onBlur"]),l.editingLabel?(t(),u(w,{key:0,icon:"check",class:"!size-4 rounded-sm",variant:"ghost",onClick:L(v=>l.editingLabel=!1,["stop"])},null,8,["onClick"])):x("",!0)])):(t(),d("div",dt,V(m.__(l.label)||m.__("Untitled")),1))],8,ut),r("div",mt,[l.editingLabel?x("",!0):(t(),u(w,{key:0,class:"!size-4 rounded-sm",variant:"ghost",onClick:v=>l.editingLabel=!0},{icon:g(()=>[c(T,{class:"h-3.5"})]),_:1},8,["onClick"])),l.editable!==!1?(t(),u(w,{key:1,class:"!size-4 rounded-sm",icon:"x",variant:"ghost",onClick:v=>n.sections.splice(n.sections.indexOf(l),1)},null,8,["onClick"])):x("",!0)])]),q(r("div",null,[c(i(ie),{list:((B=l.columns)==null?void 0:B[0].fields)||[],group:"fields","item-key":"fieldname",class:"flex flex-col gap-1.5",handle:".cursor-grab"},{item:g(({element:v})=>[r("div",vt,[r("div",yt,[c(Ae,{class:"h-3.5 cursor-grab"}),r("div",null,V(v.label),1)]),c(w,{variant:"ghost",icon:"x",class:"!size-4 rounded-sm",onClick:o=>l.columns[0].fields.splice(l.columns[0].fields.indexOf(v),1)},null,8,["onClick"])])]),_:2},1032,["list"]),i(h).data&&l.editable!==!1?(t(),u(Ee,{key:0,value:"",options:i(h).data,onChange:v=>C(l,v)},{target:g(({togglePopover:v})=>[c(w,{class:"w-full h-8 mt-1.5 !bg-surface-gray-1",variant:"outline",label:m.__("Add Field"),iconLeft:"plus",onClick:o=>v()},null,8,["label","onClick"])]),"item-label":g(({option:v})=>[r("div",_t,[r("div",null,V(v.label),1),r("div",ft,V(`${v.fieldname} - ${v.fieldtype}`),1)])]),_:1},8,["options","onChange"])):(t(),d("div",ht,[r("div",gt,V(m.__("This section is not editable")),1)]))],512),[[H,l.opened]])])]}),_:1},8,["list"]),r("div",bt,[c(w,{class:"w-full h-8",variant:"subtle",label:m.__("Add Section"),iconLeft:"plus",onClick:y[1]||(y[1]=l=>n.sections.push({label:m.__("New Section"),opened:!0,name:"section_"+i(ne)(),columns:[{name:"column_"+i(ne)(),fields:[]}]}))},null,8,["label"])])])}}},xt={class:"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9"},Ct={class:"flex flex-col gap-5.5"},wt={class:"flex justify-between gap-2"},$t={class:"flex flex-row-reverse gap-2"},St={key:0,class:"flex gap-4"},Lt={key:0,class:"flex flex-1 flex-col border rounded"},Vt={key:0,class:"flex h-16 items-center justify-center text-base text-ink-gray-5"},Bt={key:1,class:"flex flex-1 justify-center items-center text-ink-gray-5 bg-surface-gray-2 rounded"},Ft={__name:"SidePanelModal",props:ee({doctype:{type:String,default:"CRM Lead"}},{modelValue:{},modelModifiers:{}}),emits:ee(["reload"],["update:modelValue"]),setup(n,{emit:b}){const p=n,k=b,h=ke(n,"modelValue"),C=N(p.doctype),m=N(!1),y=N(!1),S=N(!1);N({});function w(){return{doctype:C.value,type:"Side Panel"}}const l=pe({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["SidePanel",C.value],params:w(),onSuccess(o){l.originalData=JSON.parse(JSON.stringify(o))}});me(()=>l==null?void 0:l.data,()=>{y.value=JSON.stringify(l==null?void 0:l.data)!==JSON.stringify(l==null?void 0:l.originalData)},{deep:!0}),ue(()=>xe(B,100)());function B(){Z(()=>{l.params=w(),l.reload()})}function v(){let o=JSON.parse(JSON.stringify(l.data));o.forEach(M=>{M.sections.forEach(P=>{P.columns&&P.columns.forEach(I=>{I.fields&&(I.fields=I.fields.map(U=>U.fieldname).filter(Boolean))})})}),m.value=!0,$e("crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.save_fields_layout",{doctype:C.value,type:"Side Panel",layout:JSON.stringify(o[0].sections)}).then(()=>{m.value=!1,h.value=!1,Se("side_panel_layout_builder",{doctype:C.value}),k("reload")})}return(o,M)=>{const P=O("Button");return t(),u(i(we),{modelValue:h.value,"onUpdate:modelValue":M[1]||(M[1]=I=>h.value=I),options:{size:"3xl"}},{"body-title":g(()=>[r("h3",xt,[r("div",null,V(o.__("Edit Field Layout")),1),y.value?(t(),u(i(Ce),{key:0,label:o.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):x("",!0)])]),"body-content":g(()=>{var I,U;return[r("div",Ct,[r("div",wt,[c(P,{label:S.value?o.__("Hide preview"):o.__("Show preview"),onClick:M[0]||(M[0]=$=>S.value=!S.value)},null,8,["label"]),r("div",$t,[c(P,{loading:m.value,label:o.__("Save"),variant:"solid",onClick:v},null,8,["loading","label"]),c(P,{label:o.__("Reset"),onClick:B},null,8,["label"])])]),(U=(I=i(l).data)==null?void 0:I[0])!=null&&U.sections?(t(),d("div",St,[c(kt,{class:"flex flex-1 flex-col pr-2",sections:i(l).data[0].sections,doctype:C.value},null,8,["sections","doctype"]),S.value?(t(),d("div",Lt,[c(qt,{sections:i(l).data[0].sections,doctype:C.value,docname:"",preview:!0},{default:g(({section:$})=>[$.name=="contacts_section"?(t(),d("div",Vt,V(o.__("No contacts added")),1)):x("",!0)]),_:1},8,["sections","doctype"])])):(t(),d("div",Bt,V(o.__("Toggle on for preview")),1))])):x("",!0)])]}),_:1},8,["modelValue"])}}};const Dt={class:"sections flex flex-col overflow-y-auto"},It={key:0,class:"section flex flex-col"},Mt={key:0,class:"w-full section-border h-px border-t"},Nt={class:"p-1 sm:p-3"},Ot={key:0,class:"field flex items-center gap-2 px-3 leading-5 first:mt-3"},Pt={class:"w-[35%] min-w-20 shrink-0 flex items-center gap-0.5"},Ut={class:"truncate text-sm text-ink-gray-5"},jt={key:0,class:"text-ink-red-2"},Et={class:"flex items-center justify-between w-[65%]"},Tt={class:"grid min-h-[28px] flex-1 items-center overflow-hidden text-base"},zt={key:0,class:"flex h-7 cursor-pointer items-center px-2 py-1 text-ink-gray-5"},At={class:"cursor-pointer"},Jt={key:7,class:"form-control"},Rt={key:8,class:"form-control"},Kt={key:9,class:"form-control"},Gt={class:"ml-1"},Zt={__name:"SidePanelLayout",props:{sections:{type:Object},doctype:{type:String,default:"CRM Lead",required:!0},docname:{type:String,required:!0},preview:{type:Boolean,default:!1},addContact:{type:Function}},emits:["beforeFieldChange","afterFieldChange","reload"],setup(n,{emit:b}){var W;const p=n,k=b,{getFormattedPercent:h,getFormattedFloat:C,getFormattedCurrency:m}=Te(p.doctype),{users:y,isManager:S,getUser:w}=ze(),l=N(!1);let B={doc:{}},v;if(p.docname){let a=Be(p.doctype,p.docname);B=a.document,v=a.triggerOnChange}const o=Y(()=>B.doc||{}),M=Y(()=>{var _;if(!((_=p.sections)!=null&&_.length))return[];let a=!1;return p.sections.map(F=>{var f;(f=F.columns)!=null&&f.length&&(F.columns[0].fields=F.columns[0].fields.map(z=>P(z)));let D=ve(F,a);return D.showEditButton&&(a=!0),D})});function P(a){var F,D;a.fieldtype=="Select"&&typeof a.options=="string"&&(a.options=a.options.split(`
`).map(f=>({label:f,value:f})),a.options[0].value!==""&&a.options.unshift({label:"",value:""})),a.fieldtype==="Link"&&a.options==="User"&&(a.fieldtype="User",a.link_filters=JSON.stringify({...a.link_filters?JSON.parse(a.link_filters):{},name:["in",(D=(F=y.data)==null?void 0:F.crmUsers)==null?void 0:D.map(f=>f.name)]}));let _={...a,filters:a.link_filters&&JSON.parse(a.link_filters),placeholder:a.placeholder||a.label,display_via_depends_on:se(a.depends_on,o.value),mandatory_via_depends_on:se(a.mandatory_depends_on,o.value)};return _.visible=ye(_),_}const I=Le(),U=((W=I==null?void 0:I.vnode)==null?void 0:W.props)??{};async function $(a,_){if(p.preview)return;await v(_.fieldname,a),U.onBeforeFieldChange!==void 0?k("beforeFieldChange",{[_.fieldname]:a}):B.save.submit(null,{onSuccess:()=>k("afterFieldChange",{[_.fieldname]:a})})}function ve(a,_){var D;let F=a.name=="contacts_section";return a.showEditButton=!(Je.value||!S()||F||_),a.visible=F||((D=a.columns)==null?void 0:D[0].fields.filter(f=>f.visible).length),a}function ye(a){var _;return p.preview?!0:(a.fieldtype=="Check"||a.read_only&&((_=o.value)==null?void 0:_[a.fieldname])||!a.read_only)&&(!a.depends_on||a.display_via_depends_on)&&!a.hidden}function _e(){return M.value.findIndex(a=>a.visible)}return(a,_)=>{const F=O("Button"),D=O("FormControl");return t(),d(j,null,[r("div",Dt,[(t(!0),d(j,null,X(M.value,(f,z)=>(t(),d(j,{key:f.name},[f.visible?(t(),d("div",It,[z!==_e()?(t(),d("div",Mt)):x("",!0),r("div",Nt,[c(De,{labelClass:"px-2 font-semibold",headerClass:"h-8",label:f.label,hideLabel:!f.label,opened:f.opened},te({default:g(()=>[ae(a.$slots,"default",le({ref_for:!0},{section:f}),()=>{var A;return[(A=f.columns)!=null&&A[0].fields.length?(t(),u(Ne,{key:0,class:"column flex flex-col gap-1.5 overflow-y-auto"},{default:g(()=>[(t(!0),d(j,null,X(f.columns[0].fields||[],e=>(t(),d(j,{key:e.fieldname},[e.visible?(t(),d("div",Ot,[c(i(J),{text:a.__(e.label),hoverDelay:1},{default:g(()=>[r("div",Pt,[r("div",Ut,V(a.__(e.label)),1),e.reqd||e.mandatory_depends_on&&e.mandatory_via_depends_on?(t(),d("div",jt," * ")):x("",!0)])]),_:2},1032,["text"]),r("div",Et,[r("div",Tt,[e.read_only&&!["Int","Float","Currency","Percent","Check","Dropdown"].includes(e.fieldtype)?(t(),d("div",zt,[c(i(J),{text:a.__(e.tooltip)},{default:g(()=>[r("div",null,V(o.value[e.fieldname]),1)]),_:2},1032,["text"])])):e.fieldtype==="Dropdown"?(t(),u(rt,{key:1,value:o.value[e.fieldname],placeholder:e.placeholder,options:e.options,create:e.create,label:e.label},null,8,["value","placeholder","options","create","label"])):e.fieldtype=="Check"?(t(),u(D,{key:2,class:"form-control",type:"checkbox",modelValue:o.value[e.fieldname],"onUpdate:modelValue":s=>o.value[e.fieldname]=s,onChange:L(s=>$(s.target.checked,e),["stop"]),disabled:!!e.read_only},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])):["Small Text","Text","Long Text","Code"].includes(e.fieldtype)?(t(),u(D,{key:3,class:"form-control",type:"textarea",value:o.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:L(s=>$(s.target.value,e),["stop"])},null,8,["value","placeholder","onChange"])):e.fieldtype==="Select"?(t(),u(D,{key:4,class:"form-control cursor-pointer [&_select]:cursor-pointer truncate",type:"select",modelValue:o.value[e.fieldname],"onUpdate:modelValue":s=>o.value[e.fieldname]=s,options:e.options,placeholder:e.placeholder,onChange:L(s=>$(s.target.value,e),["stop"])},null,8,["modelValue","onUpdate:modelValue","options","placeholder","onChange"])):e.fieldtype==="User"?(t(),u(oe,{key:5,class:"form-control",value:o.value[e.fieldname]&&i(w)(o.value[e.fieldname]).full_name,doctype:"User",filters:e.filters,onChange:s=>$(s,e),placeholder:"Select "+e.label+"...",hideMe:!0},te({"item-prefix":g(({option:s})=>[c(re,{class:"mr-1.5",user:s.value,size:"sm"},null,8,["user"])]),"item-label":g(({option:s})=>[c(i(J),{text:s.value},{default:g(()=>[r("div",At,V(i(w)(s.value).full_name),1)]),_:2},1032,["text"])]),_:2},[o.value[e.fieldname]?{name:"prefix",fn:g(()=>[c(re,{class:"mr-1.5",user:o.value[e.fieldname],size:"sm"},null,8,["user"])]),key:"0"}:void 0]),1032,["value","filters","onChange","placeholder"])):["Link","Dynamic Link"].includes(e.fieldtype)?(t(),u(oe,{key:6,class:"form-control select-text",value:o.value[e.fieldname],doctype:e.fieldtype=="Link"?e.options:o.value[e.options],filters:e.filters,placeholder:e.placeholder,onChange:s=>$(s,e),onCreate:e.create},null,8,["value","doctype","filters","placeholder","onChange","onCreate"])):e.fieldtype==="Time"?(t(),d("div",Jt,[c(i(Ie),{value:o.value[e.fieldname],format:i(K)("","",!1,!0,!1),placeholder:e.placeholder,onChange:s=>$(s,e)},null,8,["value","format","placeholder","onChange"])])):e.fieldtype==="Datetime"?(t(),d("div",Rt,[c(i(Re),{value:o.value[e.fieldname],format:i(K)("","",!0,!0,!1),placeholder:e.placeholder,placement:"left-start",onChange:s=>$(s,e)},null,8,["value","format","placeholder","onChange"])])):e.fieldtype==="Date"?(t(),d("div",Kt,[c(i(Me),{value:o.value[e.fieldname],format:i(K)("","",!0,!1,!1),placeholder:e.placeholder,placement:"left-start",onChange:s=>$(s,e)},null,8,["value","format","placeholder","onChange"])])):e.fieldtype==="Percent"?(t(),u(E,{key:10,class:"form-control",type:"text",value:i(h)(e.fieldname,o.value),placeholder:e.placeholder,debounce:500,onChange:L(s=>$(i(G)(s.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Password"?(t(),u(Fe,{key:11,class:"form-control",value:o.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:L(s=>$(s.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Int"?(t(),u(E,{key:12,class:"form-control",type:"text",value:o.value[e.fieldname]||"0",placeholder:e.placeholder,debounce:500,onChange:L(s=>$(s.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Float"?(t(),u(E,{key:13,class:"form-control",type:"text",value:i(C)(e.fieldname,o.value),placeholder:e.placeholder,debounce:500,onChange:L(s=>$(i(G)(s.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Currency"?(t(),u(E,{key:14,class:"form-control",type:"text",value:i(m)(e.fieldname,o.value),placeholder:e.placeholder,debounce:500,onChange:L(s=>$(i(G)(s.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):(t(),u(D,{key:15,class:"form-control",type:"text",value:o.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:L(s=>$(s.target.value,e),["stop"])},null,8,["value","placeholder","onChange"]))]),r("div",Gt,[e.fieldtype==="Link"&&e.link&&o.value[e.fieldname]?(t(),u(je,{key:0,class:"h-4 w-4 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:L(s=>e.link(o.value[e.fieldname]),["stop"])},null,8,["onClick"])):x("",!0),e.fieldtype==="Link"&&e.edit&&o.value[e.fieldname]?(t(),u(T,{key:1,class:"size-3.5 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:L(s=>e.edit(o.value[e.fieldname]),["stop"])},null,8,["onClick"])):x("",!0)])])])):x("",!0)],64))),128))]),_:2},1024)):x("",!0)]},!0)]),_:2},[n.preview?void 0:{name:"actions",fn:g(()=>[ae(a.$slots,"actions",le({ref_for:!0},{section:f}),()=>[f.showEditButton?(t(),u(F,{key:0,variant:"ghost",class:"w-7 mr-2",icon:T,onClick:_[0]||(_[0]=A=>l.value=!0)})):x("",!0)],!0)]),key:"0"}]),1032,["label","hideLabel","opened"])])])):x("",!0)],64))),128))]),l.value?(t(),u(Ft,{key:0,modelValue:l.value,"onUpdate:modelValue":_[1]||(_[1]=f=>l.value=f),doctype:n.doctype,onReload:_[2]||(_[2]=()=>k("reload"))},null,8,["modelValue","doctype"])):x("",!0)],64)}}},qt=Q(Zt,[["__scopeId","data-v-c5221a1c"]]),{getView:Ht}=Ve();function ce(n){return{list:{label:__("List"),icon:R(Oe)},group_by:{label:__("Group By"),icon:R(Pe)},kanban:{label:__("Kanban"),icon:R(Ue)}}[n]}function oa(n,b,p){let k=b||"list",h=Ht(n,k,p);return h&&!h.icon&&(h.icon=ce(k).icon),h||ce(k)}export{qt as S,qe as a,oa as g};
//# sourceMappingURL=view-e31a1491.js.map
